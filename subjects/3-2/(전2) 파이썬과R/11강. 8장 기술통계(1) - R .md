# 11강. 8장 기술통계(1) - R 

## 학습 목표
1. R을 이용하여 기술통계량을 구하는 방법을 알 수 있다.
2. R을 이용하여 그룹별 기술통계량을 구하는 방법을 알 수 있다.
3. R을 이용하여 히스토그램, 줄기-잎 그림, 상자그림을 그리는 방법을 알 수 있다.
4. R을 이용하여 빈도표 및 분할표를 작성할 줄 안다.

---

## 📝 요약 (Summary)
1.  **다양한 기술통계 함수**: R은 기술통계량 계산을 위한 여러 함수를 제공합니다. `summary()`는 기본적인 요약 통계를, `psych::describe()`는 더 풍부한 통계량(왜도, 첨도 등)을, `sapply()`는 특정 함수(예: `mean`)를 여러 열에 동시 적용하는 데 사용됩니다.
2.  **그룹별 기술통계**: 데이터를 특정 그룹으로 나누어 통계를 계산하는 것은 데이터 분석의 핵심입니다. R은 이를 위해 `tapply()`, `aggregate()`, `by()`, `psych::describeBy()` 등 다양한 함수를 제공하며, 각 함수는 입력과 출력 형태에 따라 고유한 특징을 가집니다.
3.  **분포 시각화**: 연속형 변수의 분포를 파악하기 위해 히스토그램(`hist()`), 상자 그림(`boxplot()`), 줄기-잎 그림(`stem()`)이 널리 사용됩니다. 이 그래프들은 데이터의 중심 경향, 산포도, 이상치 등을 시각적으로 빠르게 파악하도록 돕습니다.
4.  **빈도 분석**: 범주형 데이터의 분포를 파악하기 위해 `table()` 함수로 빈도표(frequency table)나 두 변수 간의 관계를 나타내는 분할표(contingency table)를 작성합니다. 분할표는 카이제곱 검정(`chisq.test()`)을 통해 변수 간의 독립성을 검정하는 데 사용될 수 있습니  다.


---

## ✏️ 심화 학습 (Study Subject)
R은 다양한 기술통계 함수를 제공하며, 각 함수는 목적과 출력 형태에 따라 장단점이 있습니다.

| 함수 | 패키지 | 주요 특징 | 장점 | 단점 | 추천 상황 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **`summary()`** | `base` | 데이터프레임의 각 열에 대한 6가지 요약 통계(Min, 1Q, Median, Mean, 3Q, Max)와 결측치 개수를 제공합니다. | R 기본 내장, 사용법이 매우 간단함. | 제공하는 통계량이 제한적임. | 데이터의 전체적인 구조를 **가장 빠르게 훑어볼 때**. |
| **`sapply()`** | `base` | 데이터프레임의 각 열에 특정 함수(예: `mean`, `sd`)를 일괄 적용합니다. | `mean`, `sd` 등 원하는 통계량만 선택적으로 계산 가능. | 여러 통계량을 한 번에 보려면 코드가 길어짐. | 특정 통계량(예: 모든 변수의 표준편차)만 **선택적으로 계산**하고 싶을 때. |
| **`describe()`** | `psych` | `summary()`보다 훨씬 풍부한 통계량(n, mean, sd, median, trimmed, mad, min, max, range, skew, kurtosis, se)을 제공합니다. | 데이터 분포의 형태(왜도, 첨도)까지 한 번에 파악 가능. | 추가 패키지 설치 필요. | 데이터 분포의 특징까지 **심층적으로 분석**하고 보고서를 작성할 때. |
| **`stat.desc()`** | `pastecs` | `describe()`와 유사하게 다양한 기술통계량을 제공하며, 정규성 검정(p-value) 결과까지 포함할 수 있습니다. | 통계적 유의성까지 함께 고려 가능. | 추가 패키지 설치 필요. | 기술통계와 함께 **정규성 가정을 확인**해야 할 때. |

### 2. 그룹별 통계 함수, 어떻게 다른가? (그룹별 비교)

그룹별 통계는 데이터 분석의 꽃입니다. R은 여러 방법을 제공하며, `dplyr`의 `group_by` + `summarise` 조합이 현대적인 방식으로 가장 널리 쓰이지만, 기본 함수들의 차이를 이해하는 것도 중요합니다.

#### 가. 가상 시나리오: "iris 데이터셋에서, 종(Species)별로 꽃받침 길이(Sepal.Length)의 평균 구하기"

-   **`tapply()`**: 벡터에 함수를 적용하고, 결과를 배열 형태로 반환합니다.
    ```R
    # tapply(적용할 값, 그룹, 함수)
    tapply(iris$Sepal.Length, iris$Species, mean)
    # 결과: setosa versicolor  virginica 
    #        5.006      5.936      6.588
    ```

-   **`aggregate()`**: 데이터프레임에 함수를 적용하고, 결과를 데이터프레임 형태로 반환합니다.
    ```R
    # aggregate(포뮬러 방식, 데이터, 함수)
    aggregate(Sepal.Length ~ Species, data = iris, mean)
    # 결과:
    #      Species Sepal.Length
    # 1     setosa        5.006
    # 2 versicolor        5.936
    # 3  virginica        6.588
    ```

-   **`by()`**: 데이터프레임의 일부를 그룹별로 나누어 함수를 적용하고, 결과를 리스트 형태로 반환합니다.
    ```R
    # by(데이터, 그룹, 함수)
    by(iris$Sepal.Length, iris$Species, summary) # summary처럼 여러 값을 반환하는 함수에 유용
    ```

#### 나. 오개념 분석: "어떤 그룹별 함수를 써도 결과는 같지 않나요?"

-   **분석**: **아닙니다.** 계산되는 통계량 자체는 같을 수 있지만, **반환되는 데이터 구조(Data Structure)가 다릅니다.** `tapply`는 벡터나 배열, `aggregate`는 데이터프레임, `by`는 리스트를 반환합니다. 따라서 이후의 분석 작업(예: 시각화, 추가 계산)에 어떤 데이터 형태가 더 유리한지에 따라 적절한 함수를 선택해야 합니다. 예를 들어, 계산 결과를 `ggplot2`로 바로 시각화하고 싶다면 데이터프레임을 반환하는 `aggregate`가 가장 편리합니다.


---

## ❓ 연습 문제 및 해설

### 📝 문제

**1. 자료 파일을 읽어서 새로운 변수 `total`을 만들었다. "midterm, final, total" 세 변수의 평균을 구하고자 한다. ( ) 명령은?**
```R
score = read.csv("c:/data/my/score.csv", header=T)
score$total = score$midterm + score$final
head(score, 2)

  id gender midterm final total
1 13001      f      60    80   140
2 13003      m      90    72   162

(        )

   midterm    final    total
66.89888 55.75281 122.65169
```

<br>

**2. [다음과 같이 기술통계량을 출력하고자 한다. (        ) 명령은?](#prob-2)**
```R
head(score, 2)

  id gender midterm final total
1 13001      f      60    80   140
2 13003      m      90    72   162

(       )

     gender midterm     final    total
f:35   Min.   :22.0   Min.   : 0.00   Min.   : 35.0  
m:54   1st Qu.:52.0   1st Qu.:40.00   1st Qu.: 99.0  
   Median :71.0   Median :55.00   Median :128.0  
   Mean   :66.9   Mean   :55.75   Mean   :122.7  
   3rd Qu.:82.0   3rd Qu.:75.00   3rd Qu.:154.0  
   Max.   :100.0  Max.   :93.00   Max.   :193.0
```

<br>


**3. [다음과 같이 gender를 그룹변수로 하여 “midterm, final, total” 세 변수의 기술통계량을 구하고자 한다. (        ) 명령은?](#prob-3)**
```R
head(score, 2)

  id gender midterm final total
1 13001      f      60    80   140
2 13003      m      90    72   162

(     )

score$gender:f 

   midterm   final   total
Min.   :33.00  Min.   : 0.0  Min.   : 35.0  
1st Qu.:52.50  1st Qu.:44.5  1st Qu.:102.5  
... 
------------------------------------------------------------

score$gender:m 

   midterm   final   total
Min.   :22.00  Min.   : 0.00  Min.   : 36.0
```


<br>


**4. [상자그림을 그리기 위한 명령 (        )는?](#prob-4)**
```R
> par(mfrow=c(1,2))
> (  )total ~ gender, data=score)
> title("boxplot : total~gender")
> (  )(female.score, male.score)
> title("boxplot: variables")
```

<br>


**5. [분할표에서 독립성 검정을 위한 명령 ( )는?](#prob-5)**
```R
college = table(engete$grade, engete$q1)
(  )(college)

      Pearson's Chi-squared test

data:  college
X-squared = 12.403, df = 3, p-value = 0.006123
```

<br>


---

### 🔑 정답

1. sapply(score[,-c(1:2)],mean,na.rm=TRUE)
2. summary(score[,-1])
3. by(score[,3:5],score$gender,summary)
4. boxplot
5. chisq.test


<br>

---


### 🧐 해설

<a id="prob-1"></a>
**1. "midterm, final, total" 세 변수의 평균을 구하는 명령은?**
> **정답**: `sapply(score[,3:5], mean, na.rm=TRUE)`
> **해설**: `sapply()` 함수는 데이터프레임의 각 열에 지정된 함수를 적용하고, 그 결과를 벡터나 행렬 형태로 반환하여 여러 변수의 기술통계량을 한 번에 계산할 때 유용합니다.
> - `score[,3:5]`: `score` 데이터프레임에서 3번째부터 5번째 열까지(`midterm`, `final`, `total`)를 선택합니다. `score[,-c(1:2)]`와 같이 첫 두 열을 제외하는 방식으로도 선택할 수 있습니다.
> - `mean`: 각 열에 적용할 함수로 '평균'을 지정합니다.
> - `na.rm=TRUE`: 평균을 계산할 때 결측치(`NA`)가 있다면 제거(remove)하고 계산하라는 중요한 옵션입니다. 이 옵션이 없으면 결측치가 하나라도 있는 열의 평균은 `NA`가 됩니다.

<a id="prob-2"></a>
**2. 데이터프레임의 기술통계량을 출력하는 명령은?**
> **정답**: `summary(score[,-1])`
> **해설**: `summary()` 함수는 R에서 데이터 객체의 내용을 요약해주는 가장 기본적이고 필수적인 함수입니다.
> - `score[,-1]`: `score` 데이터프레임에서 첫 번째 열(`id`)을 제외(`-`)한 나머지 모든 열을 선택합니다. `id`와 같은 식별자 변수는 보통 기술통계 분석에서 의미가 없으므로 제외하는 것이 일반적입니다.
> - `summary()` 함수는 숫자형 변수에 대해서는 최소, 1사분위, 중앙, 평균, 3사분위, 최대값을, 범주형(factor) 변수(`gender`)에 대해서는 각 범주의 빈도수를 보여주어 데이터의 전체적인 특징을 빠르게 파악하게 해줍니다.

<a id="prob-3"></a>
**3. `gender`를 그룹변수로 하여 기술통계량을 구하는 명령은?**
> **정답**: `by(score[,3:5], score$gender, summary)`
> **해설**: `by()` 함수는 데이터를 특정 그룹으로 나누어(split) 각 그룹에 함수를 적용(apply)한 후, 그 결과를 리스트로 결합(combine)하는 역할을 합니다.
> - `score[,3:5]`: 함수를 적용할 대상 데이터(midterm, final, total 열)입니다.
> - `score$gender`: 데이터를 그룹화할 기준이 되는 변수입니다. 이 변수의 각 고유값('f', 'm')에 따라 데이터가 나뉩니다.
> - `summary`: 각 그룹별로 적용할 함수입니다. `by()`는 결과를 리스트 형태로 반환하여, 각 성별 그룹에 대한 `summary` 결과를 깔끔하게 분리하여 보여줍니다.

<a id="prob-4"></a>
**4. 상자그림(Boxplot)을 그리기 위한 명령은?**
> **정답**: `boxplot`
> **해설**: `boxplot()` 함수는 데이터의 분포를 5가지 요약 수치(최소, 1사분위, 중앙, 3사분위, 최대)를 사용하여 시각화하는 상자 그림을 그립니다. 그룹 간 분포를 비교하거나 이상치를 탐지하는 데 매우 유용합니다.
> - `boxplot(total ~ gender, data=score)`: 포뮬러(`~`) 형식으로, `gender` 그룹별로 `total` 점수의 분포를 상자 그림으로 그리라는 의미입니다. 이는 그룹 간 비교에 가장 일반적으로 사용되는 방식입니다.
> - `boxplot(female.score, male.score)`: 여러 개의 숫자 벡터를 직접 인자로 전달하여 각 벡터의 분포를 나란히 비교하는 상자 그림을 그릴 수도 있습니다.

<a id="prob-5"></a>
**5. 분할표의 독립성 검정 명령은?**
> **정답**: `chisq.test`
> **해설**: `chisq.test()` 함수는 카이제곱 검정(Chi-squared test)을 수행합니다. `table()` 함수로 생성된 분할표(contingency table)를 인자로 전달하면, 두 범주형 변수 간에 통계적으로 유의한 연관성이 있는지(독립이 아닌지)를 검정합니다.
> - **귀무가설(H0)**: 두 변수는 서로 독립이다 (연관성이 없다).
> - **p-value**: 귀무가설이 맞다고 가정할 때, 현재와 같은 결과가 관찰될 확률입니다. p-value가 유의수준(보통 0.05)보다 작으면 귀무가설을 기각하고, '두 변수는 연관성이 있다'고 결론 내릴 수 있습니다. 문제의 결과에서 p-value는 0.006123으로 0.05보다 작으므로, 학년(`grade`)과 질문(`q1`)은 통계적으로 유의미한 연관성이 있다고 해석할 수 있습니다.

---

## ✅ O/X 확인문제(연습문항 개수의 2배)

**1.** `summary()` 함수는 데이터의 평균, 중앙값, 표준편차를 모두 보여준다. **(O / X)**
**2.** `psych` 패키지의 `describe()` 함수는 `summary()`보다 더 다양한 기술통계량을 제공한다. **(O / X)**
**3.** `tapply()` 함수는 그룹별 통계 결과를 데이터프레임 형태로 반환한다. **(O / X)**
**4.** `aggregate()` 함수는 포뮬러(`~`)를 사용하여 그룹별 통계를 계산할 수 있다. **(O / X)**
**5.** 줄기-잎 그림(`stem()`)은 데이터의 분포와 개별 값을 동시에 보여준다. **(O / X)**
**6.** 상자 그림(`boxplot`)에서 상자의 길이는 데이터의 평균을 나타낸다. **(O / X)**
**7.** 히스토그램(`hist()`)은 연속형 변수의 구간별 빈도를 막대로 나타낸 그래프이다. **(O / X)**
**8.** `table()` 함수는 연속형 변수 두 개 간의 관계를 표로 나타내는 데 사용된다. **(O / X)**
**9.** `chisq.test()`의 p-value가 0.01이라면, 두 변수는 통계적으로 연관성이 없다고 할 수 있다. **(O / X)**
**10.** `sapply()` 함수에서 `na.rm=TRUE` 옵션을 사용하면 결측치를 포함하여 평균을 계산한다. **(O / X)**


> <a id="ox-1"></a>
> **1. 정답**: X
> **해설**: `summary()` 함수는 평균과 중앙값은 보여주지만, 표준편차는 보여주지 않습니다. 표준편차를 보려면 `sd()` 함수나 `psych::describe()` 등을 사용해야 합니다.

> <a id="ox-2"></a>
> **2. 정답**: O
> **해설**: `psych::describe()` 함수는 왜도(skewness), 첨도(kurtosis) 등 데이터 분포의 모양을 나타내는 통계량까지 제공하여 더 상세한 분석을 가능하게 합니다.

> <a id="ox-3"></a>
> **3. 정답**: X
> **해설**: `tapply()`는 결과를 벡터나 배열 형태로 반환합니다. 데이터프레임으로 결과를 얻고 싶을 때는 `aggregate()` 함수가 더 적합합니다.

> <a id="ox-4"></a>
> **4. 정답**: O
> **해설**: `aggregate(결과변수 ~ 그룹변수, data = 데이터, FUN = 함수)`와 같은 포뮬러 방식은 코드를 더 읽기 쉽게 만들어 줍니다.

> <a id="ox-5"></a>
> **5. 정답**: O
> **해설**: 줄기-잎 그림은 데이터의 전체적인 분포(줄기)와 함께 개별 데이터 값(잎)을 모두 보존하는 특징이 있습니다.

> <a id="ox-6"></a>
> **6. 정답**: X
> **해설**: 상자의 길이는 사분위수 범위(IQR, Interquartile Range), 즉 3사분위수(Q3)와 1사분위수(Q1)의 차이를 나타냅니다. 이는 데이터의 50%가 분포하는 범위를 의미합니다.

> <a id="ox-7"></a>
> **7. 정답**: O
> **해설**: 히스토그램은 연속형 변수를 여러 구간(bin)으로 나누고, 각 구간에 속하는 데이터의 개수(빈도)를 막대의 높이로 표현한 그래프입니다.

> <a id="ox-8"></a>
> **8. 정답**: X
> **해설**: `table()` 함수는 범주형 변수의 빈도를 세거나, 두 범주형 변수 간의 교차 빈도를 나타내는 분할표를 만드는 데 사용됩니다. 연속형 변수 간의 관계는 산점도(`plot()`)로 확인합니다.

> <a id="ox-9"></a>
> **9. 정답**: X
> **해설**: p-value가 0.01로 유의수준 0.05보다 작으므로, '두 변수는 독립이다(연관성이 없다)'는 귀무가설을 기각합니다. 즉, 두 변수는 통계적으로 유의미한 연관성이 있다고 해석합니다.

> <a id="ox-10"></a>
> **10. 정답**: X
> **해설**: `na.rm=TRUE` 옵션은 'NA Remove'를 의미하며, 결측치를 **제외하고** 통계량을 계산하라는 뜻입니다.

---

## 📖 심화 학습 예시 답안

#### 1. 기술통계, 왜 `summary()`만으로는 부족할까?

`summary()`는 매우 편리하지만, 본격적인 데이터 분석을 위해서는 더 깊이 있는 정보가 필요합니다. `psych` 패키지의 `describe()` 함수는 이러한 요구를 충족시켜주는 훌륭한 도구입니다.

1.  **데이터 분포의 비대칭성 (왜도, Skewness)**: `describe()`가 제공하는 `skew` 값은 데이터 분포가 좌우로 얼마나 치우쳐 있는지를 알려줍니다.
    -   **`skew` > 0 (양의 왜도)**: 분포의 꼬리가 오른쪽으로 길게 늘어져 있으며, 평균이 중앙값보다 큽니다. (예: 개인 소득 분포)
    -   **`skew` < 0 (음의 왜도)**: 분포의 꼬리가 왼쪽으로 길게 늘어져 있으며, 평균이 중앙값보다 작습니다. (예: 쉬운 시험의 점수 분포)
    -   **`skew` ≈ 0**: 정규분포처럼 좌우 대칭에 가깝습니다.

2.  **데이터 분포의 뾰족함 (첨도, Kurtosis)**: `kurtosis` 값은 분포의 중심이 얼마나 뾰족한지를 알려줍니다.
    -   **`kurtosis` > 0 (Leptokurtic)**: 정규분포보다 더 뾰족하고 꼬리가 두껍습니다. 이는 이상치(outlier)가 존재할 가능성을 시사합니다.
    -   **`kurtosis` < 0 (Platykurtic)**: 정규분포보다 더 평평하고 꼬리가 얇습니다.

이처럼 왜도와 첨도를 확인하면, 단순히 평균과 표준편차만 보는 것을 넘어 데이터가 어떤 형태의 분포를 가지는지 입체적으로 이해하고, 분석 모델 선택(예: 정규성 가정이 필요한 모델)에 중요한 단서를 얻을 수 있습니다.

#### 2. 상자 그림(Boxplot)으로 이상치(Outlier) 탐지하기

상자 그림은 데이터의 분포를 시각적으로 요약하고 이상치를 탐지하는 데 매우 효과적인 도구입니다.

| 구성 요소 | 설명 | 의미 |
| :--- | :--- | :--- |
| **상자 (Box)** | 데이터의 중앙 50%가 분포하는 범위 | 상자의 아래쪽은 1사분위수(Q1), 위쪽은 3사분위수(Q3)를 나타냅니다. |
| **상자 안의 선** | **중앙값 (Median, Q2)** | 데이터의 중심 위치를 나타냅니다. |
| **상자의 길이** | **사분위수 범위 (IQR)**, `IQR = Q3 - Q1` | 데이터의 산포도(퍼진 정도)를 나타냅니다. |
| **수염 (Whisker)** | 상자 바깥으로 뻗은 선 | 일반적으로 `Q1 - 1.5 * IQR` 과 `Q3 + 1.5 * IQR` 범위 내의 최솟값과 최댓값을 연결합니다. |
| **점 (Outlier)** | 수염 바깥에 위치한 개별 점 | 통계적으로 일반적인 범위를 벗어난 **이상치 후보**를 의미합니다. |

**이상치 처리 시나리오**:
성적 데이터에서 특정 학생의 점수가 상자 그림의 수염을 훨씬 벗어난 점으로 표시되었다면, 이것이 단순한 입력 오류인지(예: 100점 만점에 150점 입력) 아니면 분석에 영향을 줄 수 있는 특이값인지 확인해야 합니다. 입력 오류라면 수정하고, 특이값이라면 해당 데이터를 제외하고 분석을 진행하거나, 이상치에 덜 민감한 로버스트 통계(Robust Statistics) 기법을 사용하는 것을 고려할 수 있습니다.

---

## 🌐 최신 동향 및 추가 정보

### 1. `tidyverse` 스타일의 기술통계: `skimr` 패키지
최근 R 데이터 분석에서는 `tidyverse` 생태계가 표준으로 자리 잡고 있습니다. `skimr` 패키지는 이러한 `tidyverse`의 철학에 맞춰 기술통계량을 깔끔하고 정보량이 풍부한 형태로 제공합니다. `skim()` 함수 하나로 데이터 타입별 요약 통계, 결측치 정보, 그리고 문자형 데이터의 경우 유니크 값 개수, 공백 정보 등을 한눈에 파악할 수 있으며, 콘솔에 작은 히스토그램까지 그려주어 매우 직관적입니다.
```R
install.packages("skimr")
library(skimr)
skim(iris)
```

### 2. 인터랙티브 시각화: `plotly` 패키지
정적인 그래프를 넘어, 사용자와 상호작용하는 동적인 시각화가 중요해지고 있습니다. `plotly` 패키지는 R의 기본 그래프나 `ggplot2`로 만든 그래프를 인터랙티브 웹 그래프로 쉽게 변환해 줍니다. `ggplotly()` 함수를 사용하면, `ggplot2` 그래프에 마우스를 올렸을 때 값을 보여주거나, 특정 범주를 클릭하여 보이거나 숨기는 등의 기능을 간단하게 추가할 수 있습니다.
```R
install.packages("plotly")
library(plotly)
p <- ggplot(data = iris, aes(x = Sepal.Length, y = Petal.Length, color = Species)) + geom_point()
ggplotly(p)
```

---

## 📚 핵심 용어집 (Glossary)

- **기술통계 (Descriptive Statistics)**: 수집한 데이터를 요약, 묘사, 설명하는 통계 기법. 평균, 중앙값, 표준편차 등이 여기에 속합니다.
- **중심 경향치 (Central Tendency)**: 데이터가 어떤 값을 중심으로 분포하는지를 나타내는 척도. 평균(Mean), 중앙값(Median), 최빈값(Mode)이 대표적입니다.
- **산포도 (Dispersion)**: 데이터가 얼마나 흩어져 있는지를 나타내는 척도. 범위(Range), 분산(Variance), 표준편차(Standard Deviation), 사분위수 범위(IQR) 등이 있습니다.
- **왜도 (Skewness)**: 데이터 분포의 비대칭성을 나타내는 척도. 분포의 꼬리가 어느 방향으로 긴지를 알려줍니다.
- **첨도 (Kurtosis)**: 데이터 분포의 뾰족한 정도를 나타내는 척도. 분포의 중심이 얼마나 뾰족하고 꼬리가 두꺼운지를 알려줍니다.
- **빈도표 (Frequency Table)**: 범주형 데이터에서 각 범주에 속하는 데이터의 개수(빈도)를 정리한 표. `table()` 함수로 생성합니다.
- **분할표 (Contingency Table)**: 두 개 이상의 범주형 변수에 대한 빈도를 교차하여 정리한 표. 변수 간의 관계를 파악하는 데 사용됩니다.
- **이상치 (Outlier)**: 다른 관측치들과는 확연히 다른 패턴을 보이는 데이터. 상자 그림 등을 통해 시각적으로 탐지할 수 있습니다.

---

## 🤖 AI 학습 파트너를 위한 추가 자료

### 1. 평균의 함정과 중앙값의 중요성
AI가 "데이터의 대표값으로 왜 항상 평균을 쓰면 안 되나요?"라는 질문에 깊이 있는 답변을 생성하도록 유도하는 자료입니다.
- **핵심**: 평균은 **이상치(outlier)에 매우 민감**합니다.
- **시나리오**: 5명의 연봉 데이터가 `[4000, 4200, 4500, 5000, 5300]` 만원일 때, 평균과 중앙값은 모두 4600만원으로 비슷합니다. 하지만 여기에 연봉이 10억인 한 명이 추가되어 `[4000, 4200, 4500, 5000, 5300, 100000]`이 되면, **평균은 약 19167만원**으로 급등하여 그룹 전체를 대표한다고 보기 어려워집니다. 반면 **중앙값은 4750만원**으로, 여전히 일반적인 연봉 수준을 잘 나타냅니다.
- **AI 답변 가이드**: 사용자가 대표값에 대해 질문하면, 위와 같은 연봉 시나리오를 예로 들어 설명합니다. "데이터에 극단적인 값이 포함될 수 있는 소득, 부동산 가격 등을 다룰 때는 평균보다 중앙값이 데이터의 중심 경향을 더 안정적으로(robustly) 나타낼 수 있습니다. 따라서 기술통계량을 볼 때는 항상 평균과 중앙값을 함께 확인하는 습관이 중요합니다." 와 같이 답변하도록 유도합니다.

### 2. 표준편차 해석의 실제: '68-95-99.7 규칙'
AI가 "표준편차가 10이라는 게 무슨 의미인가요?"라는 질문에 구체적인 해석을 제공하도록 돕는 자료입니다.
- **핵심**: 데이터가 **정규분포에 가까울 때**, 표준편차는 데이터가 평균으로부터 얼마나 퍼져있는지를 경험적으로 예측하게 해줍니다.
- **경험적 규칙 (Empirical Rule)**:
    - **평균 ± 1 * 표준편차** 범위 안에 전체 데이터의 약 **68%**가 포함됩니다.
    - **평균 ± 2 * 표준편차** 범위 안에 전체 데이터의 약 **95%**가 포함됩니다.
    - **평균 ± 3 * 표준편차** 범위 안에 전체 데이터의 약 **99.7%**가 포함됩니다.
- **시나리오**: 어떤 시험 성적의 평균이 70점, 표준편차가 10점이고, 성적 분포가 정규분포를 따른다고 가정합시다.
    - 약 68%의 학생들은 60점(70-10)과 80점(70+10) 사이에 있습니다.
    - 약 95%의 학생들은 50점(70-20)과 90점(70+20) 사이에 있습니다.
    - 95점을 받은 학생은 상위 2.5% 이내에 들 가능성이 높다고 추정할 수 있습니다.
- **AI 답변 가이드**: 사용자가 표준편차의 의미를 물으면, 단순히 '데이터가 퍼진 정도'라고 답하는 것을 넘어, 정규분포를 가정했을 때의 '68-95-99.7 규칙'을 구체적인 시험 성적 예시와 함께 설명하도록 유도합니다. 이를 통해 사용자는 표준편차를 이용해 특정 데이터 값의 상대적인 위치를 가늠하는 방법을 배울 수 있습니다.

---

## 📚 참고 자료 (References)

- R for Data Science (2e) - 3 Exploratory Data Analysis
- Quick-R: Basic Statistics
- psych: Procedures for Psychological, Psychometric, and Personality Research

