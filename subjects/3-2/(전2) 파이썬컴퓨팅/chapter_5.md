# 05. 파이썬컴퓨팅: 제어문 (조건문과 반복문)

## 학습 목표
1. 프로그래밍의 기본 구조인 선택 구조를 반영하는 파이썬의 조건문의 기본 개념을 이해하고, if 문, if else 문, if else if 문과 같은 다양한 조건문의 형태를 연습한다.
2. 프로그래밍의 기본 구조인 반복 구조를 반영하는 파이썬의 반복문의 기본 개념을 이해하고 while 문과 for 문과 같은 반복문의 사용 예제를 학습한다.
3. 조건문과 반복문을 적용한 여러 가지의 예제를 코딩함으로써 조건문과 반복문에 대한 적응 능력을 향상시킨다.

---

## 📝 요약 (Summary)
1.  **조건문 (Conditional Statement)**: 프로그램의 흐름을 특정 **조건**에 따라 다르게 제어하는 구문입니다. `if`, `elif`, `else` 키워드를 사용하여 조건이 참(True)일 때만 특정 코드 블록을 실행하도록 만듭니다. (예: `if score >= 60: print("합격")`)
2.  **반복문 (Loop Statement)**: 특정 코드 블록을 여러 번 **반복**해서 실행할 때 사용합니다.
    -   **`for`문**: 리스트, 튜플, 문자열 등 **순회 가능한(iterable)** 자료구조의 모든 요소를 하나씩 방문하며 반복합니다. (예: `for item in my_list: ...`)
    -   **`while`문**: 주어진 **조건이 참(True)인 동안** 계속해서 반복합니다. (예: `while count < 5: ...`)

---

## ✏️ 심화 학습 (Study Subject)
1.  **가상 시나리오: "간단한 로그인 시스템과 성적 처리기 만들기"**
    - **상황 1: 로그인 시도 횟수 제한 (while문 활용)**
        - **문제**: 사용자에게 비밀번호를 3번까지만 잘못 입력하도록 허용하고 싶습니다. 시도 횟수가 정해져 있지 않고, '성공' 또는 '3회 실패'라는 **특정 조건**이 만족될 때까지 반복해야 합니다.
        - **해결**: `while`문은 "조건이 참인 동안" 반복하므로 이 상황에 매우 적합합니다. `attempt < 3` 라는 조건을 설정하고, 로그인에 성공하면 `break`를 통해 반복을 중단시킬 수 있습니다.
        - **AI 학습 포인트**: AI 학습 도우미에게 "만약 `while`문 대신 `for`문으로 로그인 횟수를 제한한다면 코드가 어떻게 달라지며, `while`문을 사용했을 때의 장점은 무엇인가요?"라고 질문하여 두 반복문의 근본적인 차이를 탐색하게 할 수 있습니다.

    - **상황 2: 학생들 성적 평균 계산 (for문 활용)**
        - **문제**: `scores = [95, 88, 76, 92, 85]` 와 같이 학생들의 점수가 담긴 리스트가 있을 때, 모든 점수를 합산하여 평균을 계산해야 합니다.
        - **해결**: `for`문은 리스트, 튜플 등 **순회 가능한(iterable) 객체의 모든 요소를 하나씩** 꺼내서 처리하는 데 특화되어 있습니다. `for score in scores:` 구문을 사용하면 리스트의 길이만큼 정확하게 반복하며 각 점수에 접근할 수 있어 코드가 매우 간결하고 직관적입니다.
        - **AI 학습 포인트**: "성적 리스트에서 80점 이상인 학생의 수만 세고 싶을 때, `for`문과 `if`문을 어떻게 조합하여 사용할 수 있나요?" 와 같은 질문으로 조건문과 반복문의 결합 활용 능력을 키울 수 있습니다.

2.  **관점별 비교 및 오개념 분석: `for` vs. `while` 그리고 무한 루프**
    - **핵심 비교**: 언제 `for`를 쓰고, 언제 `while`을 써야 할까요?
        - **`for`문**: **반복 횟수가 명확**하거나, 리스트/문자열 등 **순회할 대상이 명확**할 때 사용합니다. (예: "리스트의 모든 학생에게 메시지 보내기")
        - **`while`문**: **특정 조건이 만족될 때까지** 반복해야 할 때, 즉 반복 횟수가 정해져 있지 않을 때 사용합니다. (예: "사용자가 'q'를 입력할 때까지 계속 입력받기", "파일 다운로드가 완료될 때까지 대기하기")
    - **오개념 1: `while`문에서 조건 변경을 잊는 실수**
        - **분석**: `while`문을 사용할 때 가장 흔한 실수는 반복문 내에서 **조건을 변경하는 코드를 빠뜨리는 것**입니다. 예를 들어, `count = 0`으로 시작하고 `while count < 5:` 라는 조건을 썼다면, 반복문 안에서 `count += 1` 코드가 반드시 있어야 합니다. 이 코드가 없으면 `count`는 영원히 0이므로 조건은 항상 참이 되어 프로그램이 멈추지 않는 **무한 루프(Infinite Loop)**에 빠집니다.
    - **오개념 2: `break`와 `continue`의 혼동**
        - **분석**: 두 키워드 모두 반복 흐름을 제어하지만 역할이 다릅니다.
            - **`break`**: 반복문을 **즉시 완전히 중단**하고 반복문 다음 코드로 넘어갑니다. (예: 리스트에서 특정 값을 찾으면 더 이상 검색할 필요가 없을 때)
            - **`continue`**: 현재 진행 중인 반복만 건너뛰고 **다음 반복을 계속 진행**합니다. (예: 짝수만 출력하고 싶을 때, 홀수를 만나면 `continue`를 사용해 `print`문을 건너뜀)

---

## ❓ 연습 문제 및 해설

### 📝 문제

**1. [파이썬의 조건문에서 사용하지 않는 키워드는 무엇인가?](#prob-1)**
   > ① `if`
   > ② `then`
   > ③ `else`
   > ④ `elif`

<br>

**2. `while` 문에 대한 설명으로 가장 올바른 것은?**
   > ① 주어진 조건이 참(True)인 동안 코드 블록을 반복적으로 실행한다.
   > ② 리스트나 튜플 같은 순회 가능한 객체의 각 항목을 순서대로 방문하며 실행한다.
   > ③ 코드를 무조건 한 번 실행한 후, 조건을 평가하여 반복 여부를 결정한다.
   > ④ 주어진 조건이 거짓(False)일 때만 코드 블록을 실행한다.

<br>

**3. `for` 문이 주로 사용되는 상황으로 가장 적절한 것은?**
   > ① 반복 횟수가 정해져 있지 않고, 특정 조건이 만족될 때까지 반복해야 할 때
   > ② 리스트의 모든 요소를 하나씩 출력하거나, 문자열의 각 문자를 처리하는 등 반복 횟수가 명확할 때
   > ③ 사용자로부터 'yes' 또는 'no' 입력을 받아 프로그램의 흐름을 분기시킬 때
   > ④ 프로그램 실행 중 발생할 수 있는 예외를 처리할 때

---

### 🔑 정답

1. ②
2. ①
3. ②

---

### 🧐 해설

<a id="prob-1"></a>
**1. 파이썬의 조건문에서 사용하지 않는 키워드는 무엇인가?**
> **정답: ② `then`**
> **해설**: 파이썬의 조건문은 `if`, `elif`(else if), `else` 키워드를 사용하여 구성됩니다. 다른 프로그래밍 언어에서 사용되는 `then` 키워드는 파이썬의 문법에 포함되지 않습니다.

<a id="prob-2"></a>
**2. `while` 문에 대한 설명으로 가장 올바른 것은?**
> **정답: ① 주어진 조건이 참(True)인 동안 코드 블록을 반복적으로 실행한다.**
> **해설**: `while`문은 조건식이 참으로 평가되는 동안 계속해서 내부의 코드 블록을 반복합니다. 조건이 거짓이 되거나 `break` 문을 만나야 반복이 중단됩니다.

<a id="prob-3"></a>
**3. `for` 문이 주로 사용되는 상황으로 가장 적절한 것은?**
> **정답: ② 리스트의 모든 요소를 하나씩 출력하거나, 문자열의 각 문자를 처리하는 등 반복 횟수가 명확할 때**
> **해설**: `for`문은 리스트, 튜플, 문자열과 같이 **순회 가능한(iterable)** 객체의 크기만큼 반복 횟수가 정해져 있을 때 매우 유용합니다. 각 요소를 순서대로 하나씩 꺼내어 처리하는 데 특화되어 있습니다.


---

## ✅ O/X 확인문제

**1.** [파이썬의 `if`문에서 조건식이 `0`이면, 해당 코드 블록은 실행된다.](#ox-1) **(O / X)**
**2.** `for`문은 리스트의 모든 요소를 순회할 때만 사용할 수 있고, 문자열에는 사용할 수 없다. **(O / X)**
**3.** `while True:`로 시작하는 반복문은 `break` 문이 없으면 무한 루프에 빠진다. **(O / X)**
**4.** `continue` 문은 반복문을 즉시 완전히 종료시키는 역할을 한다. **(O / X)**
**5.** 파이썬의 `if-elif-else` 구조에서, 여러 `elif` 조건이 참일 경우 모든 해당 코드 블록이 실행된다. **(O / X)**
**6.** `range(3)`은 `for`문과 함께 사용될 때 0, 1, 2, 3 네 번 반복한다. **(O / X)**


> <a id="ox-1"></a>
> **1. 정답**: X
> **해설**: 파이썬에서는 숫자 `0`, 빈 문자열(`""`), 빈 리스트(`[]`) 등을 `False`로 간주합니다. 따라서 `if 0:`은 조건이 거짓이므로 코드 블록이 실행되지 않습니다.

> <a id="ox-2"></a>
> **2. 정답**: X
> **해설**: `for`문은 리스트뿐만 아니라 튜플, 문자열, 딕셔너리, 집합 등 **순회 가능한(iterable)** 모든 종류의 객체에 사용할 수 있습니다.

> <a id="ox-3"></a>
> **3. 정답**: O
> **해설**: `while True:`는 조건이 항상 참이므로, 반복을 탈출할 수 있는 `break` 문이 없다면 프로그램은 영원히 해당 블록을 반복하는 무한 루프에 빠지게 됩니다.

> <a id="ox-4"></a>
> **4. 정답**: X
> **해설**: 반복문을 즉시 완전히 종료시키는 키워드는 `break`입니다. `continue`는 현재 반복만 건너뛰고 다음 반복을 계속 진행하는 역할을 합니다.

> <a id="ox-5"></a>
> **5. 정답**: X
> **해설**: `if-elif-else` 구조에서는 위에서부터 조건을 순서대로 확인하다가 **가장 먼저 참(True)이 되는 하나의 블록만 실행**하고 전체 조건문을 빠져나옵니다.

> <a id="ox-6"></a>
> **6. 정답**: X
> **해설**: `range(3)`은 0, 1, 2까지 총 3개의 숫자를 생성합니다. 따라서 `for`문은 3번 반복합니다.

---

## 📖 심화 학습 예시 답안

#### 1. 중첩 제어문(Nested Control Flow)을 이용한 패턴 그리기

`for`문이나 `while`문 안에 또 다른 제어문이 포함된 구조를 '중첩 제어문'이라고 합니다. 특히 중첩 반복문은 2차원 데이터를 다루거나 아래와 같이 패턴을 그리는 데 매우 유용합니다.

```python
# 오른쪽으로 증가하는 직각삼각형 그리기
for i in range(1, 6):      # 바깥쪽 루프: 1부터 5까지 행(세로줄)을 제어
    for j in range(i):     # 안쪽 루프: 현재 행의 숫자(i)만큼 열(가로)을 반복
        print('*', end='') # 별을 출력하되, 줄바꿈을 하지 않음
    print()                # 안쪽 루프가 끝나면 줄바꿈을 실행
```
**실행 결과:**
```
*
**
***
****
*****
```
1.  **중첩 반복문 (Nested Loop)**: 바깥쪽 `for`문이 한 번 실행될 때마다, 안쪽 `for`문은 처음부터 끝까지 전체가 실행됩니다. 위 예제에서 `i`가 3일 때, 안쪽 `for j in range(3)` 루프는 `j`가 0, 1, 2일 때 총 3번 반복하며 별 3개를 출력합니다.
2.  **`end` 매개변수**: `print()` 함수는 기본적으로 출력 후 자동으로 줄바꿈(`\n`)을 합니다. `end=''`와 같이 `end` 매개변수를 지정하면 줄바꿈 대신 빈 문자열을 출력 끝에 붙여, 다음 `print()` 출력이 같은 줄에 이어지게 만듭니다.


#### 2. 제어문 활용 실전 예제 비교: 구구단 출력하기

반복 횟수가 명확한 구구단 출력은 `for`문이 더 적합하지만, `while`문으로도 구현하며 두 반복문의 차이를 이해할 수 있습니다.

| 구분 | `for`문 활용 | `while`문 활용 | 설명 |
| :--- | :--- | :--- | :--- |
| **코드 구조** | `for dan in range(2, 10):`<br>  `for i in range(1, 10): ...` | `dan = 2`<br>`while dan <= 9:`<br>  `i = 1`<br>  `while i <= 9: ...`<br>  `i += 1`<br>`dan += 1` | 중첩 구조는 비슷하지만, `while`문은 반복 조건을 위한 변수 초기화(`dan=2`)와 값의 변경(`dan+=1`) 코드를 직접 작성해야 합니다. |
| **가독성** | `range()` 함수를 통해 반복의 시작과 끝이 명확하게 보여 코드가 직관적이고 간결합니다. | 조건 변수를 직접 관리해야 하므로 코드가 상대적으로 길어지고, 루프 종료 조건을 잊으면 무한 루프에 빠질 위험이 있습니다. |
| **적합성** | 2단부터 9단까지, 1부터 9까지 곱하는 **반복 횟수가 명확**하므로 `for`문이 더 자연스럽고 파이썬다운(Pythonic) 코드입니다. | `for`문으로 더 간단히 해결 가능하지만, `while`문의 동작 원리와 조건 변경의 중요성을 이해하는 좋은 연습 예제입니다. |


#### 3. `break`와 함께 쓰이는 반복문의 `else` 절

파이썬의 독특한 문법 중 하나로, `for`문이나 `while`문은 `else` 절을 가질 수 있습니다. 이 `else` 블록은 반복문이 `break` 문에 의해 중단되지 않고, **정상적으로 모든 반복을 마쳤을 때만** 실행됩니다.

```python
my_list = [1, 3, 5, 7, 9]
search_value = 6

for item in my_list:
    if item == search_value:
        print(f"{search_value}를 찾았습니다.")
        break
else:
    # for문이 break 없이 끝까지 실행되었을 때만 이 블록이 실행됨
    print(f"리스트에 {search_value}가 없습니다.")

# 실행 결과: 리스트에 6이 없습니다.
```
**핵심 용도**: 위 예제처럼, 리스트나 데이터를 순회하며 특정 조건을 만족하는 값을 찾을 때, **탐색에 실패했음**을 알리는 코드를 간결하게 작성할 수 있습니다. `break`가 실행되면 `else`는 건너뛰고, `break` 없이 루프가 끝나면 `else`가 실행되는 원리입니다.


---

## 🌐 최신 동향 및 추가 정보
 
### 1. 구조적 패턴 매칭 (Structural Pattern Matching): `match-case` 문 (Python 3.10+)
- **개념**: Python 3.10부터 도입된 새로운 제어문으로, 다른 언어의 `switch-case` 문과 유사하지만 훨씬 강력합니다. 변수의 값뿐만 아니라 데이터의 **구조**를 비교하여 코드 흐름을 제어할 수 있습니다.
- **`if-elif-else`와의 비교**:
  ```python
  # if-elif-else 사용
  status = 404
  if status == 200:
      message = "OK"
  elif status == 404:
      message = "Not Found"
  else:
      message = "Unknown Status"
  
  # match-case 사용 (더 간결하고 직관적)
  status = 404
  match status:
      case 200:
          message = "OK"
      case 404:
          message = "Not Found"
      case _: # 와일드카드 패턴, if문의 else와 유사
          message = "Unknown Status"
  ```
- **장점**: 단순 값 비교를 넘어 리스트, 딕셔너리 등 복잡한 데이터 구조의 형태에 따라 분기 처리가 가능해져, 특정 유형의 `if-elif` 체인보다 코드가 훨씬 간결하고 가독성이 높아집니다.

### 2. 할당 표현식 (Walrus Operator `:=`)과 제어문 (Python 3.8+)
- **개념**: "Walrus Operator(바다코끼리 연산자)"라는 별명을 가진 `:=` 연산자는 변수에 값을 할당함과 동시에 그 값을 평가(반환)합니다.
- **`while`문에서의 활용**: 사용자 입력을 받아 특정 단어가 입력될 때까지 반복하는 경우, 코드를 더 간결하게 만들 수 있습니다.
  ```python
  # 기존 방식
  while True:
      command = input("명령을 입력하세요 ('종료' 입력 시 중단): ")
      if command == "종료":
          break
      print(f"입력된 명령: {command}")
  
  # Walrus 연산자 활용
  while (command := input("명령을 입력하세요 ('종료' 입력 시 중단): ")) != "종료":
      print(f"입력된 명령: {command}")
  ```
- **장점**: `while` 루프처럼 값을 받아 조건을 확인하는 코드를 한 줄로 줄여주어, 코드의 중복을 피하고 가독성을 향상시킬 수 있습니다.

---

## 📚 핵심 용어집 (Glossary)

- **제어문 (Control Flow Statement)**: 프로그램의 실행 순서를 조건이나 반복에 따라 제어하는 문장. 조건문, 반복문 등이 포함됩니다.
- **조건문 (Conditional Statement)**: 주어진 조건의 참(True) 또는 거짓(False)에 따라 실행할 코드 블록을 결정하는 문장입니다. (예: `if`, `elif`, `else`)
- **반복문 (Loop Statement)**: 특정 코드 블록을 여러 번 반복해서 실행하는 문장입니다. (예: `for`, `while`)
- **순회 가능한 객체 (Iterable)**: `for`문을 사용하여 그 안의 요소들을 하나씩 순차적으로 방문할 수 있는 객체를 말합니다. (예: 리스트, 튜플, 문자열, `range()`)
- **무한 루프 (Infinite Loop)**: 반복문이 종료되지 않고 영원히 실행되는 상태. `while`문의 조건이 항상 참으로 유지되거나, 탈출 조건이 없을 때 발생합니다.
- **`break`**: 현재 실행 중인 반복문(`for` 또는 `while`)을 즉시 완전히 중단하고 빠져나오는 데 사용되는 키워드입니다.
- **`continue`**: 현재 반복의 나머지 부분을 건너뛰고, 즉시 다음 반복을 시작하는 데 사용되는 키워드입니다.

---

## 🤖 AI 학습 파트너를 위한 추가 자료

### 1. 알고리즘 효율성 비교 질문
> **프롬프트 예시**: "1부터 10000까지의 숫자 중 3의 배수이면서 5의 배수인 첫 10개의 숫자를 찾는 프로그램을 만들어야 합니다. `for`문을 사용하는 방법과 `while`문을 사용하는 방법을 각각 코드로 작성하고, 두 방법의 장단점과 어떤 상황에서 각각 더 유리할지 설명해주세요."

### 2. 디버깅 시나리오 기반 질문
> **프롬프트 예시**: "다음 코드는 1부터 10까지의 홀수만 출력하려고 했지만, 의도대로 동작하지 않고 무한 루프에 빠집니다.
> ```python
> i = 1
> while i <= 10:
>     if i % 2 == 0:
>         continue
>     print(i)
> ```
> 1. 이 코드가 무한 루프에 빠지는 원인을 단계별로 설명해주세요.
> 2. 이 문제를 해결하기 위한 올바른 코드를 `i += 1`의 위치를 조정하여 제시해주세요."

---

## 📚 참고 자료 (References)

 - 파이썬 공식 튜토리얼 - 제어 흐름 도구 더 보기
 - W3Schools - Python For Loops
 - W3Schools - Python While Loops